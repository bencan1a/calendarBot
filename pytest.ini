[tool:pytest]
# Basic pytest configuration for CalendarBot
minversion = 6.0
addopts = --strict-markers --strict-config --verbose --tb=short

# Test discovery
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Exclude directories from test discovery
norecursedirs = tests/browser/backup

# Async support - this is critical for async test functions
asyncio_mode = auto

# Basic markers
markers =
    unit: Unit tests for individual components
    integration: Integration tests for component interactions
    e2e: End-to-end tests for complete workflows
    slow: Tests that take longer to run
    network: Tests that require network access
    critical_path: Essential tests for CI/CD pipeline (fast execution)
    browser: Browser automation tests using pyppeteer/playwright
    accessibility: Accessibility compliance tests
    visual_regression: Visual regression testing
    performance: Performance benchmarking tests
    cross_browser: Cross-browser compatibility tests
    responsive: Responsive design tests
    smoke: Smoke tests for basic functionality
    security: Security-focused tests

# Suppress common warnings during testing
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
    ignore::UserWarning:urllib3.*
    ignore::UserWarning:coverage.*
